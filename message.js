            function log(message) {
                if (!window.console) return;
                const now = new Date();
                const monthAbbr = now.toLocaleString('en-US', { month: 'short' });
                const day = String(now.getDate()).padStart(2, '0');
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const seconds = String(now.getSeconds()).padStart(2, '0');
                const milliseconds = String(now.getMilliseconds()).padStart(3, '0');
                const finalTimestamp = `${monthAbbr}-${day}: ${hours}:${minutes}:${seconds}.${milliseconds}`;
                console.log(finalTimestamp + ': ' + message);
            }

            let box_id = 55535;
            let userIdentifier = '48882ccf9e4c92609b4c750483ef4fca';
            localStorage.setItem('user_identifier', userIdentifier);

            const languageData = {"de-DE":{"ad_copy":"Kostenlose Shoutbox","ad_title":"Hole dir deine eigene kostenlose Shoutbox auf Speechbox.chat!","ad_description":"Werbung","default_ad_copy":"CHATTEN IN ECHTZEIT?<br>KEINE WERBUNG?<br>SPAM SCHUTZ?<br>STATISTIKEN?<br><br>Hole dir jetzt dein Premium Upgrade!","rss_description":"Speechbox Kostenlose Shoutbox RSS Feed","name":"Name","email":"E-Mail","website":"Website","message":"Nachricht","bold_info_mac":"Fett: CMD + B","bold_info_other":"Fett: STRG + B","italic_info_mac":"Kursiv: CMD + I","italic_info_other":"Kursiv: STRG + I","strikethrough_info_mac":"Durchgestrichen: CMD + Umschalt + X","strikethrough_info_other":"Durchgestrichen: STRG + Umschalt + X","code_info_mac":"Code: CMD + Umschalt + C","code_info_other":"Code: STRG + Umschalt + C","insert_image":"Bild einfügen","insert_emoji":"Emoji einfügen","insert_image_url_label":"Web-Adresse des Bildes","insert_image_alt_text_label":"Beschreibung","optional":"Optional","remove_image":"Bild löschen","upload_drop_here":"Bild hier ablegen oder","upload_select_file":"Datei auswählen","or":"oder","upload_uploading":"Wird hochgeladen","upload_complete":"Upload abgeschlossen!","upload_processing":"Wird verarbeitet","upload_error":"Fehler beim Hochladen des Bildes. Bitte versuche es erneut.","upload_error_filetype":"Bitte nur Bilddateien hochladen.","upload_error_filesize":"Die Bilddatei ist zu groß. Die maximale Größe beträgt {size}.","upload_error_limit_reached_day":"Upload-Limit erreicht. Versuche es morgen erneut.","upload_error_limit_reached_hour":"Upload-Limit erreicht. Versuche es in einer Stunde erneut.","upload_error_limit_reached_minute":"Upload-Limit erreicht. Versuche es in einer Minute erneut.","insert_image_invalid":"Das ist keine gültige Bilddatei.","insert":"Einfügen","send_info_mac":"Abschicken: Eingabe","send_info_other":"Abschicken: Eingabe","keybind_send_hint_mac":"<strong>Eingabe<\/strong> zum Abschicken","keybing_send_hint_other":"<strong>Eingabe<\/strong> zum Abschicken","captcha_hint":"Bitte bestätige, dass du kein Roboter bist.","captcha_solution_placeholder":"Deine Lösung…","captcha_send":"Bestätigen","account_unconfirmed":"Diese Shoutbox wurde noch nicht per E-Mail bestätigt.","error_offline":"Du bist gerade offline. Lade die Seite neu, um ankommende Nachrichten sehen zu können.","error_captcha_wrong":"Leider falsch, überprüfe deine Eingabe und versuche es bitte nochmal.","error_name_missing":"Gib bitte deinen Namen ein.","error_name_short":"Dein Name ist zu kurz, mindestens zwei Zeichen.","error_name_long":"Dein Name ist zu lang.","error_message_missing":"Gib bitte eine Nachricht ein.","error_message_short":"Deine Nachricht ist zu kurz, mindestens ein Buchstabe.","error_message_long":"Deine Nachricht ist zu lang.","error_email_invalid":"Gib bitte deine gültige Email-Adresse ein.","error_email_long":"Die von dir angegebene Email-Adresse ist zu lang.","error_email_missing":"Gib bitte deine Email-Adresse ein.","error_website_missing":"Gib bitte deine Website ein.","error_website_long":"Die von dir angegebene Website-Adresse ist zu lang.","error_website_invalid":"Bitte gib eine gültige Website-Adresse ein.","error_user_banned":"Deine Nachricht wurde von unserem Spamschutz-System blockiert.","error_message_save_fail":"Deine Nachricht konnte nicht gespeichert werden, bitte versuche sie nochmal abzuschicken.","error_image_invalid":"Die Web-Adresse des Bildes ist ungültig.","error_too_many_messages_minute":"Missbrauchsschutz: Bitte warte einen Moment, bevor du weitere Nachrichten sendest.","error_too_many_messages_5min":"Missbrauchsschutz: Bitte warte einen Moment, bevor du weitere Nachrichten sendest.","error_too_many_messages_hour":"Missbrauchsschutz: Bitte warte einen Moment, bevor du weitere Nachrichten sendest.","date_now":"Gerade eben","date_today_at":"Heute um","date_yesterday_at":"Gestern um","date_at":"um","date_minute_ago":"vor 1 Minute","date_minutes_ago":"vor {n} Minuten","date_hour_ago":"vor 1 Stunde","date_hours_ago":"vor {n} Stunden","no_messages_yet":"Keine Nachrichten","load_more_messages":"Mehr Nachrichten laden","now_online":"jetzt online","one_user_typing":"Jemand schreibt","multiple_users_typing":"%d Leute schreiben","settings":"Einstellungen","notification_sound_volume":"Audio Benachrichtigung Lautstärke","notifications_mute":"Benachrichtungen aus","notifications_full":"Benachrichtigungen an","choose_language":"Wähle deine Sprache","language_flag_representation":"Sprache: Repräsentationsflagge","password_protection":"Diese Shoutbox ist mit einem <strong>Passwort geschützt<\/strong>. Um auf sie zuzugreifen, gib hier das Passwort ein:","enter_password":"Passwort eingeben…","save":"Speichern","password_wrong":"<strong>Passwort falsch.<\/strong><br>Wende dich an die\/den Betreiber*in der Shoutbox.","refresh":"Aktualisieren","desktop_notifications_headline":"Desktop-Benachrichtigungen","desktop_notifications_description":"Erhalte Benachrichtigungen über neue Nachrichten, auch wenn du nicht auf dieser Seite bist.","desktop_notifications_enable":"Benachrichtigungen aktivieren","desktop_notifications_enabled":"Benachrichtigungen aktiviert","desktop_notifications_blocked":"Benachrichtigungen blockiert","desktop_notifications_instructions":"Um Benachrichtigungen zu erlauben oder abzulehnen, klicke auf das Schlosssymbol in der Adressleiste oder überprüfe deine Browsereinstellungen.","desktop_notifications_not_supported":"Desktop-Benachrichtigungen werden von deinem Browser nicht unterstützt.","desktop_notifications_from":"Nachricht von","desktop_notifications_image_placeholder":"[Bild]","desktop_notifications_note":"Möchtest du wissen, wenn eine neue Nachricht ankommt?"},"en-US":{"ad_copy":"Free Shoutbox Chat Widget","ad_title":"Get your own free shoutbox chat widget at Speechbox.chat!","ad_description":"Advertisement","default_ad_copy":"REALTIME CHATTING?<br>NO MORE ADS?<br>SPAM PROTECTION?<br>ANALYTICS?<br><br>Get your Premium Upgrade now!","rss_description":"Speechbox Chat Widget RSS Feed","name":"Name","email":"Email","website":"Website","message":"Message","bold_info_mac":"Bold: CMD + B","bold_info_other":"Bold: CTRL + B","italic_info_mac":"Italic: CMD + I","italic_info_other":"Italic: CTRL + I","strikethrough_info_mac":"Strikethrough: CMD + Shift + X","strikethrough_info_other":"Strikethrough: CTRL + Shift + X","code_info_mac":"Code: CMD + Shift + C","code_info_other":"Code: CTRL + Shift + C","insert_image":"Insert Image","insert_emoji":"Insert Emoji","insert_image_url_label":"Image URL","insert_image_alt_text_label":"Description","optional":"Optional","remove_image":"Delete image","upload_drop_here":"Drop image here or","upload_select_file":"choose a file","or":"or","upload_uploading":"Uploading","upload_complete":"Upload complete!","upload_processing":"Processing","upload_error":"Error uploading image. Please try again.","upload_error_filetype":"Please upload an image file.","upload_error_filesize":"Image file size is too large. Maximum size is {size}.","upload_error_limit_reached_day":"Upload limit reached. Try again tomorrow.","upload_error_limit_reached_hour":"Upload limit reached. Try again in an hour.","upload_error_limit_reached_minute":"Upload limit reached. Try again in a minute.","insert_image_invalid":"That’s not a valid image file.","insert":"Insert","send_info_mac":"Send: Return","send_info_other":"Send: Return","keybind_send_hint_mac":"<strong>Return<\/strong> to send","keybing_send_hint_other":"<strong>Return<\/strong> to send","captcha_hint":"Please prove you’re not a robot.","captcha_solution_placeholder":"Your solution…","captcha_send":"Confirm","account_unconfirmed":"This shoutbox hasn’t yet been confirmed via email.","error_offline":"You are currently offline. Reload this website to see incoming messages.","error_captcha_wrong":"That’s wrong. Please review your solution and try again.","error_name_missing":"Please enter your name.","error_name_short":"Your name is too short, at least one character.","error_name_long":"Your name is too long.","error_message_missing":"Please enter a message.","error_message_short":"Your message is too short, at least one character.","error_message_long":"Your message is too long.","error_email_invalid":"Please enter your valid email address.","error_email_long":"The email address you provided is too long.","error_email_missing":"Please enter your email address.","error_website_missing":"Please enter your website.","error_website_long":"The website address you provided is too long.","error_website_invalid":"Please enter a valid website address.","error_user_banned":"Your message was blocked by our spam protection system.","error_message_save_fail":"Your message could not be saved, please try to send it again.","error_image_invalid":"The image URL is invalid.","error_too_many_messages_minute":"Abuse protection: Please wait a moment until continuing to send messages.","error_too_many_messages_5min":"Abuse protection: Please wait a moment until continuing to send messages.","error_too_many_messages_hour":"Abuse protection: Please wait a moment until continuing to send messages.","date_now":"Just now","date_today_at":"Today at","date_yesterday_at":"Yesterday at","date_at":"at","date_minute_ago":"1 minute ago","date_minutes_ago":"{n} minutes ago","date_hour_ago":"1 hour ago","date_hours_ago":"{n} hours ago","no_messages_yet":"No messages yet","load_more_messages":"Load more messages","now_online":"now online","one_user_typing":"Someone is typing","multiple_users_typing":"%d people are typing","settings":"Settings","notification_sound_volume":"Audio notifications volume","notifications_mute":"Notifications off","notifications_full":"Notifications on","choose_language":"Choose your language","language_flag_representation":"Language Flag Representation","password_protection":"This shoutbox is <strong>password protected<\/strong>. To access it, enter the password here:","enter_password":"Enter password…","save":"Save","password_wrong":"<strong>Incorrect password.<\/strong><br>Contact the operator of this shoutbox.","refresh":"Refresh","desktop_notifications_headline":"Desktop notifications","desktop_notifications_description":"Get notified about new messages even when you’re not on this page.","desktop_notifications_enable":"Enable notifications","desktop_notifications_enabled":"Notifications enabled","desktop_notifications_blocked":"Notifications blocked","desktop_notifications_instructions":"To grant or deny notifications, click on the lock icon in the address bar or check your browser’s settings.","desktop_notifications_not_supported":"Desktop notifications are not supported by your browser.","desktop_notifications_from":"Message from","desktop_notifications_image_placeholder":"[Image]","desktop_notifications_note":"Want to know when a new message arrives?"},"es-ES":{"ad_copy":"Widget de chat Shoutbox gratuito","ad_title":"¡Obtén tu propio widget de chat shoutbox gratuito en Speechbox.chat!","ad_description":"Publicidad","default_ad_copy":"¿CHAT EN TIEMPO REAL?<br>¿YA NO MÁS ANUNCIOS?<br>¿PROTECCIÓN CONTRA SPAM?<br>¿ANÁLISIS?<br><br>¡Obtén tu mejora Premium ahora!","rss_description":"Feed RSS del widget de chat de Speechbox","name":"Nombre","email":"Correo electrónico","website":"Sitio web","message":"Mensaje","bold_info_mac":"Negrita: CMD + B","bold_info_other":"Negrita: CTRL + B","italic_info_mac":"Cursiva: CMD + I","italic_info_other":"Cursiva: CTRL + I","strikethrough_info_mac":"Tachado: CMD + Shift + X","strikethrough_info_other":"Tachado: CTRL + Shift + X","code_info_mac":"Código: CMD + Shift + C","code_info_other":"Código: CTRL + Shift + C","insert_image":"Insertar imagen","insert_emoji":"Insertar emoji","insert_image_url_label":"Dirección web de la imagen","insert_image_alt_text_label":"Descripción","optional":"Opcional","remove_image":"Eliminar imagen","upload_drop_here":"Suelta la imagen aquí o","upload_select_file":"elige un archivo","or":"o","upload_uploading":"Subiendo","upload_complete":"¡Subida completa!","upload_processing":"Procesando","upload_error":"Error al subir la imagen. Por favor, inténtalo de nuevo.","upload_error_filetype":"Por favor, sube un archivo de imagen.","upload_error_filesize":"El tamaño del archivo de imagen es demasiado grande. El tamaño máximo es {size}.","upload_error_limit_reached_day":"Límite de subida alcanzado. Inténtalo de nuevo mañana.","upload_error_limit_reached_hour":"Límite de subida alcanzado. Inténtalo de nuevo en una hora.","upload_error_limit_reached_minute":"Límite de subida alcanzado. Inténtalo de nuevo en un minuto.","insert_image_invalid":"Eso no es un archivo de imagen válido.","insert":"Insertar","send_info_mac":"Enviar: Return","send_info_other":"Enviar: Return","keybind_send_hint_mac":"<strong>Return<\/strong> para enviar","keybing_send_hint_other":"<strong>Return<\/strong> para enviar","captcha_hint":"Por favor demuestra que no eres un robot.","captcha_solution_placeholder":"Tu solución...","captcha_send":"Confirmar","account_unconfirmed":"Este shoutbox aún no ha sido confirmado por correo electrónico.","error_offline":"Actualmente estás desconectado. Recarga este sitio web para ver los mensajes entrantes.","error_captcha_wrong":"Eso es incorrecto. Por favor revisa tu solución e intenta de nuevo.","error_name_missing":"Por favor ingresa tu nombre.","error_name_short":"Tu nombre es demasiado corto, al menos un carácter.","error_name_long":"Tu nombre es demasiado largo.","error_message_missing":"Por favor ingresa un mensaje.","error_message_short":"Tu mensaje es demasiado corto, al menos un carácter.","error_message_long":"Tu mensaje es demasiado largo.","error_email_invalid":"Por favor ingresa tu dirección de correo electrónico válida.","error_email_long":"La dirección de correo electrónico que proporcionaste es demasiado larga.","error_email_missing":"Por favor ingresa tu dirección de correo electrónico.","error_website_missing":"Por favor ingresa tu sitio web.","error_website_long":"La dirección de tu sitio web es demasiado larga.","error_website_invalid":"Por favor ingresa una dirección de sitio web válida.","error_user_banned":"Tu mensaje fue bloqueado por nuestro sistema de protección contra spam.","error_message_save_fail":"Tu mensaje no pudo ser guardado, por favor intenta enviarlo de nuevo.","error_image_invalid":"La dirección web de la imagen no es válida.","error_too_many_messages_minute":"Protección contra abusos: Por favor, espera un momento antes de seguir enviando mensajes.","error_too_many_messages_5min":"Protección contra abusos: Por favor, espera un momento antes de seguir enviando mensajes.","error_too_many_messages_hour":"Protección contra abusos: Por favor, espera un momento antes de seguir enviando mensajes.","date_now":"Justo ahora","date_today_at":"Hoy a las","date_yesterday_at":"Ayer a las","date_at":"a las","date_minute_ago":"hace 1 minuto","date_minutes_ago":"hace {n} minutos","date_hour_ago":"hace 1 hora","date_hours_ago":"hace {n} horas","no_messages_yet":"Aún no hay mensajes","load_more_messages":"Cargar más mensajes","now_online":"ahora en línea","one_user_typing":"Alguien está escribiendo","multiple_users_typing":"%d personas están escribiendo","settings":"Configuración","notification_sound_volume":"Volumen de notificaciones de audio","notifications_mute":"Notificaciones desactivadas","notifications_full":"Notificaciones activadas","choose_language":"Elige tu idioma","language_flag_representation":"Representación de la bandera del idioma","password_protection":"Este shoutbox está <strong>protegido por contraseña<\/strong>. Para acceder a él, ingresa la contraseña aquí:","enter_password":"Ingrese la contraseña…","save":"Guardar","password_wrong":"<strong>Contraseña incorrecta.<\/strong><br>Contacta al operador de este shoutbox.","refresh":"Refrescar","desktop_notifications_headline":"Notificaciones de escritorio","desktop_notifications_description":"Recibe notificaciones sobre nuevos mensajes incluso cuando no estés en esta página.","desktop_notifications_enable":"Activar notificaciones","desktop_notifications_enabled":"Notificaciones activadas","desktop_notifications_blocked":"Notificaciones bloqueadas","desktop_notifications_instructions":"Para permitir o denegar notificaciones, haz clic en el icono del candado en la barra de direcciones o verifica la configuración de tu navegador.","desktop_notifications_not_supported":"Las notificaciones de escritorio no son compatibles con tu navegador.","desktop_notifications_from":"Mensaje de","desktop_notifications_image_placeholder":"[Imagen]","desktop_notifications_note":"¿Quieres saber cuándo llega un nuevo mensaje?"},"fr-FR":{"ad_copy":"Shoutbox de cri gratuite","ad_title":"Obtiens ta propre shoutbox gratuite sur Speechbox.chat !","ad_description":"Publicité","default_ad_copy":"CHAT EN TEMPS RÉEL ?<br>PLUS DE PUBLICITÉ ?<br>PROTECTION CONTRE LE SPAM ?<br>ANALYSE ?<br><br>Obtenez votre mise à Premium Upgrade maintenant !","rss_description":"Speechbox Shoutbox de cri gratuite RSS Feed","name":"Nom","email":"E-mail","website":"Site web","message":"Message","bold_info_mac":"En gras: CMD + B","bold_info_other":"En gras: CTRL + B","italic_info_mac":"Italique: CMD + I","italic_info_other":"Italique: CTRL + I","strikethrough_info_mac":"Barrée: CMD + Majuscule + X","strikethrough_info_other":"Barrée: CTRL + Majuscule + X","code_info_mac":"Code : CMD + Maj + C","code_info_other":"Code : CTRL + Maj + C","insert_image":"Insérer une image","insert_emoji":"Insérer un emoji","insert_image_url_label":"Adresse web de l'image","insert_image_alt_text_label":"Description","optional":"Optionnel","remove_image":"Supprimer l'image","upload_drop_here":"Déposez l'image ici ou","upload_select_file":"choisissez un fichier","or":"ou","upload_uploading":"Téléchargement en cours","upload_complete":"Téléchargement terminé !","upload_processing":"Traitement en cours","upload_error":"Erreur lors du téléchargement de l'image. Veuillez réessayer.","upload_error_filetype":"Veuillez télécharger un fichier image.","upload_error_filesize":"La taille du fichier image est trop grande. La taille maximale est de {size}.","upload_error_limit_reached_day":"Limite de téléchargement atteinte. Réessaie demain.","upload_error_limit_reached_hour":"Limite de téléchargement atteinte. Réessaie dans une heure.","upload_error_limit_reached_minute":"Limite de téléchargement atteinte. Réessaie dans une minute.","insert_image_invalid":"Ce n'est pas un fichier image valide.","insert":"Insérer","send_info_mac":"Envoyer: Entrée","send_info_other":"Envoyer: Entrée","keybind_send_hint_mac":"<strong>Entrée<\/strong> pour envoyer","keybing_send_hint_other":"<strong>Entrée<\/strong> pour envoyer","captcha_hint":"S'il te plaît, prouve que tu n'es pas un robot.","captcha_solution_placeholder":"Votre solution…","captcha_send":"Confirmer","account_unconfirmed":"Ce shoutbox n'a pas encore été confirmé par e-mail.","error_offline":"Tu es actuellement hors ligne. Recharge la page pour pouvoir voir les messages entrants.","error_captcha_wrong":"C'est faux. Veuillez revoir votre solution et réessayer.","error_name_missing":"Veuillez entrer votre nom.","error_name_short":"Votre nom est trop court, au moins un caractère.","error_name_long":"Votre nom est trop long.","error_message_missing":"Veuillez entrer un message.","error_message_short":"Votre message est trop court, au moins une lettre.","error_message_long":"Votre message est trop long.","error_email_invalid":"Veuillez entrer votre adresse e-mail valide.","error_email_long":"L'adresse e-mail que vous avez fournie est trop longue.","error_email_missing":"Veuillez entrer votre adresse e-mail.","error_website_missing":"Veuillez entrer votre site web.","error_website_long":"L'adresse du site web que vous avez fournie est trop longue.","error_website_invalid":"Veuillez entrer une adresse de site web valide.","error_user_banned":"Votre message a été bloqué par notre système de protection contre le spam.","error_message_save_fail":"Votre message n'a pas pu être enregistré, veuillez essayer de le renvoyer.","error_image_invalid":"L'adresse web de l'image est invalide.","error_too_many_messages_minute":"Protection anti-abus : Patiente un moment avant d'envoyer d'autres messages.","error_too_many_messages_5min":"Protection anti-abus : Patiente un moment avant d'envoyer d'autres messages.","error_too_many_messages_hour":"Protection anti-abus : Patiente un moment avant d'envoyer d'autres messages.","date_now":"A l'instant","date_today_at":"Aujourd'hui à","date_yesterday_at":"Hier à","date_at":"à","date_minute_ago":"il y a 1 min","date_minutes_ago":"il y a {n} min","date_hour_ago":"il y a 1h","date_hours_ago":"il y a {n}h","no_messages_yet":"Pas de nouvelles pour l'instant","load_more_messages":"Charger plus de nouvelles","now_online":"maintenant en ligne","one_user_typing":"Quelqu'un est en train d'écrire","multiple_users_typing":"%d personnes sont en train d'écrire","settings":"Préférences","notification_sound_volume":"Volume des notifications audio","notifications_mute":"Notifications désactivées","notifications_full":"Notifications activées","choose_language":"Choisissez votre langue","language_flag_representation":"Langue : Drapeau de représentation","password_protection":"Cette shoutbox est <strong>protégée par un mot de passe<\/strong>. Pour y accéder, entrez le mot de passe ici:","enter_password":"Entrez le mot de passe…","save":"Enregistrer","password_wrong":"<strong>Mot de passe incorrect.<\/strong><br>Contactez l'opérateur de la shoutbox.","refresh":"Rafraîchir","desktop_notifications_headline":"Notifications bureau","desktop_notifications_description":"Reçois des notifications pour les nouveaux messages même lorsque tu n'es pas sur cette page.","desktop_notifications_enable":"Activer les notifications","desktop_notifications_enabled":"Notifications activées","desktop_notifications_blocked":"Notifications bloquées","desktop_notifications_instructions":"Pour autoriser ou refuser les notifications, clique sur l'icône de cadenas dans la barre d'adresse ou vérifie les paramètres de ton navigateur.","desktop_notifications_not_supported":"Les notifications bureau ne sont pas prises en charge par ton navigateur.","desktop_notifications_from":"Message de","desktop_notifications_image_placeholder":"[Image]","desktop_notifications_note":"Tu veux savoir quand un nouveau message arrive ?"},"it-IT":{"ad_copy":"Widget di chat Shoutbox gratuito","ad_title":"Ottieni il tuo widget di chat shoutbox gratuito su Speechbox.chat!","ad_description":"Pubblicità","default_ad_copy":"CHAT IN TEMPO REALE?<br>NON PIÙ PUBBLICITÀ?<br>PROTEZIONE SPAM?<br>ANALISI?<br><br>Ottieni ora il tuo aggiornamento Premium!","rss_description":"Feed RSS del widget di chat di Speechbox","name":"Nome","email":"Email","website":"Sito web","message":"Messaggio","bold_info_mac":"Grassetto: CMD + B","bold_info_other":"Grassetto: CTRL + B","italic_info_mac":"Corsivo: CMD + I","italic_info_other":"Corsivo: CTRL + I","strikethrough_info_mac":"Barrato: CMD + Shift + X","strikethrough_info_other":"Barrato: CTRL + Shift + X","code_info_mac":"Codice: CMD + Shift + C","code_info_other":"Codice: CTRL + Shift + C","insert_image":"Inserisci immagine","insert_emoji":"Inserisci emoji","insert_image_url_label":"Indirizzo web dell'immagine","insert_image_alt_text_label":"Descrizione","optional":"Opzionale","remove_image":"Elimina immagine","upload_drop_here":"Trascina l'immagine qui o","upload_select_file":"scegli un file","or":"oppure","upload_uploading":"Caricamento in corso","upload_complete":"Caricamento completato!","upload_processing":"Elaborazione in corso","upload_error":"Errore nel caricamento dell'immagine. Riprova.","upload_error_filetype":"Carica un file immagine.","upload_error_filesize":"Il file immagine è troppo grande. La dimensione massima è {size}.","upload_error_limit_reached_day":"Limite di caricamento raggiunto. Riprova domani.","upload_error_limit_reached_hour":"Limite di caricamento raggiunto. Riprova tra un'ora.","upload_error_limit_reached_minute":"Limite di caricamento raggiunto. Riprova tra un minuto.","insert_image_invalid":"Questo non è un file immagine valido.","insert":"Inserisci","send_info_mac":"Invia: Return","send_info_other":"Invia: Return","keybind_send_hint_mac":"<strong>Return<\/strong> per inviare","keybing_send_hint_other":"<strong>Return<\/strong> per inviare","captcha_hint":"Dimostra per favore di non essere un robot.","captcha_solution_placeholder":"La tua soluzione...","captcha_send":"Conferma","account_unconfirmed":"Questo shoutbox non è ancora stato confermato via e-mail.","error_offline":"Sei attualmente offline. Ricarica questo sito web per vedere i messaggi in arrivo.","error_captcha_wrong":"È sbagliato. Per favore rivedi la tua soluzione e prova di nuovo.","error_name_missing":"Per favore inserisci il tuo nome.","error_name_short":"Il tuo nome è troppo corto, almeno un carattere.","error_name_long":"Il tuo nome è troppo lungo.","error_message_missing":"Per favore inserisci un messaggio.","error_message_short":"Il tuo messaggio è troppo corto, almeno un carattere.","error_message_long":"Il tuo messaggio è troppo lungo.","error_email_invalid":"Per favore inserisci il tuo indirizzo email valido.","error_email_long":"L'indirizzo email che hai fornito è troppo lungo.","error_email_missing":"Per favore inserisci il tuo indirizzo email.","error_website_missing":"Per favore inserisci il tuo sito web.","error_website_long":"L'indirizzo del sito web che hai fornito è troppo lungo.","error_website_invalid":"Per favore inserisci un indirizzo del sito web valido.","error_user_banned":"Il tuo messaggio è stato bloccato dal nostro sistema di protezione spam.","error_message_save_fail":"Il tuo messaggio non può essere salvato, per favore prova a inviarlo di nuovo.","error_image_invalid":"L'indirizzo web dell'immagine non è valido.","error_too_many_messages_minute":"Protezione anti-abuso: Attendi un momento prima di continuare a inviare messaggi.","error_too_many_messages_5min":"Protezione anti-abuso: Attendi un momento prima di continuare a inviare messaggi.","error_too_many_messages_hour":"Protezione anti-abuso: Attendi un momento prima di continuare a inviare messaggi.","date_now":"Proprio ora","date_today_at":"Oggi alle","date_yesterday_at":"Ieri alle","date_at":"alle","date_minute_ago":"1 min fa","date_minutes_ago":"{n} min fa","date_hour_ago":"1 ora fa","date_hours_ago":"{n} ore fa","no_messages_yet":"Ancora nessun messaggio","load_more_messages":"Carica più messaggi","now_online":"ora online","one_user_typing":"Qualcuno sta scrivendo","multiple_users_typing":"%d persone stanno scrivendo","settings":"Impostazioni","notification_sound_volume":"Volume delle notifiche audio","notifications_mute":"Notifiche disattivate","notifications_full":"Notifiche attivate","choose_language":"Scegli la tua lingua","language_flag_representation":"Rappresentazione della bandiera della lingua","password_protection":"Questo shoutbox è <strong>protetto da password<\/strong>. Per accedervi, inserisci la password qui:","enter_password":"Inserisci la password…","save":"Salva","password_wrong":"<strong>Password errata.<\/strong><br>Contatta l'operatore di questo shoutbox.","refresh":"Aggiorna","desktop_notifications_headline":"Notifiche desktop","desktop_notifications_description":"Ricevi notifiche sui nuovi messaggi anche quando non sei su questa pagina.","desktop_notifications_enable":"Attiva notifiche","desktop_notifications_enabled":"Notifiche attivate","desktop_notifications_blocked":"Notifiche bloccate","desktop_notifications_instructions":"Per concedere o negare le notifiche, clicca sull'icona del lucchetto nella barra degli indirizzi o controlla le impostazioni del tuo browser.","desktop_notifications_not_supported":"Le notifiche desktop non sono supportate dal tuo browser.","desktop_notifications_from":"Messaggio da","desktop_notifications_image_placeholder":"[Immagine]","desktop_notifications_note":"Vuoi sapere quando arriva un nuovo messaggio?"},"nl-NL":{"ad_copy":"Gratis Shoutbox Chat Widget","ad_title":"Haal je eigen gratis shoutbox chat widget op Speechbox.chat!","ad_description":"Advertentie","default_ad_copy":"REALTIME CHATTEN?<br>GEEN ADVERTENTIES MEER?<br>SPAM BESCHERMING?<br>ANALYTICS?<br><br>Haal nu je Premium Upgrade!","rss_description":"Speechbox Chat Widget RSS Feed","name":"Naam","email":"E-mail","website":"Website","message":"Bericht","bold_info_mac":"Vet: CMD + B","bold_info_other":"Vet: CTRL + B","italic_info_mac":"Cursief: CMD + I","italic_info_other":"Cursief: CTRL + I","strikethrough_info_mac":"Doorhalen: CMD + Shift + X","strikethrough_info_other":"Doorhalen: CTRL + Shift + X","code_info_mac":"Code: CMD + Shift + C","code_info_other":"Code: CTRL + Shift + C","insert_image":"Afbeelding invoegen","insert_emoji":"Emoji invoegen","insert_image_url_label":"Webadres van de afbeelding","insert_image_alt_text_label":"Beschrijving","optional":"Optioneel","remove_image":"Afbeelding verwijderen","upload_drop_here":"Plaats afbeelding hier of","upload_select_file":"kies een bestand","or":"of","upload_uploading":"Uploaden","upload_complete":"Upload voltooid!","upload_processing":"Verwerken","upload_error":"Fout bij het uploaden van de afbeelding. Probeer het opnieuw.","upload_error_filetype":"Upload een afbeeldingsbestand.","upload_error_filesize":"Bestandsgrootte van de afbeelding is te groot. Maximale grootte is {size}.","upload_error_limit_reached_day":"Uploadlimiet bereikt. Probeer het morgen opnieuw.","upload_error_limit_reached_hour":"Uploadlimiet bereikt. Probeer het over een uur opnieuw.","upload_error_limit_reached_minute":"Uploadlimiet bereikt. Probeer het over een minuut opnieuw.","insert_image_invalid":"Dat is geen geldig afbeeldingsbestand.","insert":"Invoegen","send_info_mac":"Verzenden: Return","send_info_other":"Verzenden: Return","keybind_send_hint_mac":"<strong>Return<\/strong> om te verzenden","keybing_send_hint_other":"<strong>Return<\/strong> om te verzenden","captcha_hint":"Bewijs alsjeblieft dat je geen robot bent.","captcha_solution_placeholder":"Jouw oplossing…","captcha_send":"Bevestigen","account_unconfirmed":"Deze shoutbox is nog niet via e-mail bevestigd.","error_offline":"Je bent momenteel offline. Herlaad deze website om binnenkomende berichten te zien.","error_captcha_wrong":"Dat is verkeerd. Controleer je oplossing en probeer het opnieuw.","error_name_missing":"Voer alsjeblieft je naam in.","error_name_short":"Je naam is te kort, minstens één teken.","error_name_long":"Je naam is te lang.","error_message_missing":"Voer alsjeblieft een bericht in.","error_message_short":"Je bericht is te kort, minstens één teken.","error_message_long":"Je bericht is te lang.","error_email_invalid":"Voer alsjeblieft je geldige e-mailadres in.","error_email_long":"Het e-mailadres dat je hebt opgegeven is te lang.","error_email_missing":"Voer alsjeblieft je e-mailadres in.","error_website_missing":"Voer alsjeblieft je website in.","error_website_long":"Het websiteadres dat je hebt opgegeven is te lang.","error_website_invalid":"Voer alsjeblieft een geldig websiteadres in.","error_user_banned":"Je bericht werd geblokkeerd door ons spambeveiligingssysteem.","error_message_save_fail":"Je bericht kon niet worden opgeslagen, probeer het opnieuw te verzenden.","error_image_invalid":"Het webadres van de afbeelding is ongeldig.","error_too_many_messages_minute":"Misbruikbeveiliging: Even wachten voordat u meer berichten verzendt.","error_too_many_messages_5min":"Misbruikbeveiliging: Even wachten voordat u meer berichten verzendt.","error_too_many_messages_hour":"Misbruikbeveiliging: Even wachten voordat u meer berichten verzendt.","date_now":"Zojuist","date_today_at":"Vandaag om","date_yesterday_at":"Gisteren om","date_at":"om","date_minute_ago":"1 min geleden","date_minutes_ago":"{n} min geleden","date_hour_ago":"1 uur geleden","date_hours_ago":"{n} uur geleden","no_messages_yet":"Nog geen berichten","load_more_messages":"Laad meer berichten","now_online":"nu online","one_user_typing":"Iemand typt","multiple_users_typing":"%d mensen typen","settings":"Instellingen","notification_sound_volume":"Volume van audio notificaties","notifications_mute":"Notificaties uit","notifications_full":"Notificaties aan","choose_language":"Kies je taal","language_flag_representation":"Vlagrepresentatie van taal","password_protection":"Deze shoutbox is <strong>beveiligd met een wachtwoord<\/strong>. Voer het wachtwoord hier in om toegang te krijgen:","enter_password":"Voer het wachtwoord in…","save":"Opslaan","password_wrong":"<strong>Verkeerd wachtwoord.<\/strong><br>Neem contact op met de beheerder van deze shoutbox.","refresh":"Verversen","desktop_notifications_headline":"Desktopnotificaties","desktop_notifications_description":"Ontvang meldingen over nieuwe berichten, zelfs wanneer je niet op deze pagina bent.","desktop_notifications_enable":"Notificaties inschakelen","desktop_notifications_enabled":"Notificaties ingeschakeld","desktop_notifications_blocked":"Notificaties geblokkeerd","desktop_notifications_instructions":"Om notificaties toe te staan of te weigeren, klik op het sloticoon in de adresbalk of controleer de instellingen van je browser.","desktop_notifications_not_supported":"Desktopnotificaties worden niet ondersteund door je browser.","desktop_notifications_from":"Bericht van","desktop_notifications_image_placeholder":"[Afbeelding]","desktop_notifications_note":"Wil je weten wanneer er een nieuw bericht binnenkomt?"},"pl-PL":{"ad_copy":"Darmowy widget czatu Shoutbox","ad_title":"Zdobądź swój darmowy widget czatu shoutbox na Speechbox.chat!","ad_description":"Reklama","default_ad_copy":"CZAT NA ŻYWO?<br>ŻADNEJ REKLAMY?<br>OCHRONA PRZED SPAMEM?<br>ANALIZY?<br><br>Zdobądź teraz swoją Premium!","rss_description":"Kanał RSS widgetu czatu Speechbox","name":"Imię","email":"Email","website":"Strona internetowa","message":"Wiadomość","bold_info_mac":"Pogrubienie: CMD + B","bold_info_other":"Pogrubienie: CTRL + B","italic_info_mac":"Kursywa: CMD + I","italic_info_other":"Kursywa: CTRL + I","strikethrough_info_mac":"Przekreślenie: CMD + Shift + X","strikethrough_info_other":"Przekreślenie: CTRL + Shift + X","code_info_mac":"Kod: CMD + Shift + C","code_info_other":"Kod: CTRL + Shift + C","insert_image":"Wstaw obraz","insert_emoji":"Wstaw emotikon","insert_image_url_label":"Adres URL obrazu","insert_image_alt_text_label":"Opis","optional":"Opcjonalne","remove_image":"Usuń zdjęcie","upload_drop_here":"Upuść zdjęcie tutaj lub","upload_select_file":"wybierz plik","or":"lub","upload_uploading":"Wysyłanie","upload_complete":"Wysyłanie zakończone!","upload_processing":"Przetwarzanie","upload_error":"Błąd podczas wysyłania zdjęcia. Spróbuj ponownie.","upload_error_filetype":"Proszę wysłać plik ze zdjęciem.","upload_error_filesize":"Rozmiar pliku zdjęcia jest zbyt duży. Maksymalny rozmiar to {size}.","upload_error_limit_reached_day":"Limit przesyłania osiągnięty. Spróbuj ponownie jutro.","upload_error_limit_reached_hour":"Limit przesyłania osiągnięty. Spróbuj ponownie za godzinę.","upload_error_limit_reached_minute":"Limit przesyłania osiągnięty. Spróbuj ponownie za minutę.","insert_image_invalid":"To nie jest prawidłowy plik obrazu.","insert":"Wstaw","send_info_mac":"Wyślij: Return","send_info_other":"Wyślij: Return","keybind_send_hint_mac":"<strong>Return<\/strong> do wysłania","keybing_send_hint_other":"<strong>Return<\/strong> do wysłania","captcha_hint":"Proszę udowodnić, że nie jesteś robotem.","captcha_solution_placeholder":"Twoje rozwiązanie...","captcha_send":"Potwierdź","account_unconfirmed":"Ten shoutbox nie został jeszcze potwierdzony e-mailem.","error_offline":"Aktualnie jesteś offline. Odśwież tę stronę, aby zobaczyć nowe wiadomości.","error_captcha_wrong":"To jest nieprawidłowe. Sprawdź swoje rozwiązanie i spróbuj ponownie.","error_name_missing":"Proszę wprowadzić swoje imię.","error_name_short":"Twoje imię jest za krótkie, przynajmniej jeden znak.","error_name_long":"Twoje imię jest za długie.","error_message_missing":"Proszę wprowadzić wiadomość.","error_message_short":"Twoja wiadomość jest za krótka, przynajmniej jeden znak.","error_message_long":"Twoja wiadomość jest za długa.","error_email_invalid":"Proszę wprowadzić prawidłowy adres e-mail.","error_email_long":"Podany adres e-mail jest za długi.","error_email_missing":"Proszę wprowadzić swój adres e-mail.","error_website_missing":"Proszę wprowadzić adres swojej strony internetowej.","error_website_long":"Podany adres strony internetowej jest za długi.","error_website_invalid":"Proszę wprowadzić prawidłowy adres strony internetowej.","error_user_banned":"Twoja wiadomość została zablokowana przez nasz system ochrony przed spamem.","error_message_save_fail":"Nie udało się zapisać twojej wiadomości, spróbuj wysłać ją ponownie.","error_image_invalid":"Adres URL obrazu jest nieprawidłowy.","error_too_many_messages_minute":"Ochrona przed nadużyciami: Poczekaj chwilę przed wysłaniem kolejnych wiadomości.","error_too_many_messages_5min":"Ochrona przed nadużyciami: Poczekaj chwilę przed wysłaniem kolejnych wiadomości.","error_too_many_messages_hour":"Ochrona przed nadużyciami: Poczekaj chwilę przed wysłaniem kolejnych wiadomości.","date_now":"Teraz","date_today_at":"Dziś o","date_yesterday_at":"Wczoraj o","date_at":"o","date_minute_ago":"1 minutę temu","date_minutes_ago_few":"{n} minuty temu","date_minutes_ago_many":"{n} minut temu","date_hour_ago":"1 godzinę temu","date_hours_ago_few":"{n} godziny temu","date_hours_ago_many":"{n} godzin temu","no_messages_yet":"Jeszcze nie ma wiadomości","load_more_messages":"Załaduj więcej wiadomości","now_online":"teraz online","one_user_typing":"Ktoś pisze","multiple_users_typing":"%d osób pisze","settings":"Ustawienia","notification_sound_volume":"Głośność dźwięku powiadomień","notifications_mute":"Powiadomienia wyłączone","notifications_full":"Powiadomienia włączone","choose_language":"Wybierz swój język","language_flag_representation":"Reprezentacja flagi języka","password_protection":"Ten shoutbox jest <strong>zabezpieczony hasłem<\/strong>. Aby uzyskać do niego dostęp, wprowadź hasło tutaj:","enter_password":"Wprowadź hasło…","save":"Zapisz","password_wrong":"<strong>Błędne hasło.<\/strong><br>Skontaktuj się z operatorem tego shoutboxa.","refresh":"Odśwież","desktop_notifications_headline":"Powiadomienia na pulpicie","desktop_notifications_description":"Otrzymuj powiadomienia o nowych wiadomościach, nawet gdy nie jesteś na tej stronie.","desktop_notifications_enable":"Włącz powiadomienia","desktop_notifications_enabled":"Powiadomienia włączone","desktop_notifications_blocked":"Powiadomienia zablokowane","desktop_notifications_instructions":"Aby zezwolić lub odrzucić powiadomienia, kliknij ikonę kłódki na pasku adresu lub sprawdź ustawienia przeglądarki.","desktop_notifications_not_supported":"Powiadomienia na pulpicie nie są obsługiwane przez Twoją przeglądarkę.","desktop_notifications_from":"Wiadomość od","desktop_notifications_image_placeholder":"[Obraz]","desktop_notifications_note":"Chcesz wiedzieć, kiedy pojawi się nowa wiadomość?"},"pt-PT":{"ad_copy":"Widget de chat Shoutbox gratuito","ad_title":"Obtenha seu widget de chat shoutbox gratuito em Speechbox.chat!","ad_description":"Publicidade","default_ad_copy":"CHAT EM TEMPO REAL?<br>SEM ANÚNCIOS?<br>PROTEÇÃO CONTRA SPAM?<br>ANÁLISE?<br><br>Obtenha agora a sua atualização Premium!","rss_description":"Feed RSS do widget de chat de Speechbox","name":"Nome","email":"Email","website":"Website","message":"Mensagem","bold_info_mac":"Negrito: CMD + B","bold_info_other":"Negrito: CTRL + B","italic_info_mac":"Itálico: CMD + I","italic_info_other":"Itálico: CTRL + I","strikethrough_info_mac":"Rasurado: CMD + Shift + X","strikethrough_info_other":"Rasurado: CTRL + Shift + X","code_info_mac":"Código: CMD + Shift + C","code_info_other":"Código: CTRL + Shift + C","insert_image":"Inserir imagem","insert_emoji":"Inserir emoji","insert_image_url_label":"Endereço web da imagem","insert_image_alt_text_label":"Descrição","optional":"Opcional","remove_image":"Excluir imagem","upload_drop_here":"Solte a imagem aqui ou","upload_select_file":"escolha um arquivo","or":"ou","upload_uploading":"Enviando","upload_complete":"Upload completo!","upload_processing":"Processando","upload_error":"Erro ao enviar imagem. Por favor, tente novamente.","upload_error_filetype":"Por favor, envie um arquivo de imagem.","upload_error_filesize":"O tamanho do arquivo de imagem é muito grande. O tamanho máximo é {size}.","upload_error_limit_reached_day":"Limite de upload atingido. Tente novamente amanhã.","upload_error_limit_reached_hour":"Limite de upload atingido. Tente novamente em uma hora.","upload_error_limit_reached_minute":"Limite de upload atingido. Tente novamente em um minuto.","insert_image_invalid":"Esse não é um arquivo de imagem válido.","insert":"Inserir","send_info_mac":"Enviar: Return","send_info_other":"Enviar: Return","keybind_send_hint_mac":"<strong>Return<\/strong> para enviar","keybing_send_hint_other":"<strong>Return<\/strong> para enviar","captcha_hint":"Por favor, prove que você não é um robô.","captcha_solution_placeholder":"Sua solução...","captcha_send":"Confirmar","account_unconfirmed":"Esta shoutbox ainda não foi confirmada por e-mail.","error_offline":"Você está atualmente offline. Recarregue este site para ver as mensagens recebidas.","error_captcha_wrong":"Está errado. Por favor, revise sua solução e tente novamente.","error_name_missing":"Por favor, insira seu nome.","error_name_short":"Seu nome é muito curto, pelo menos um caractere.","error_name_long":"Seu nome é muito longo.","error_message_missing":"Por favor, insira uma mensagem.","error_message_short":"Sua mensagem é muito curta, pelo menos um caractere.","error_message_long":"Sua mensagem é muito longa.","error_email_invalid":"Por favor, insira um endereço de email válido.","error_email_long":"O endereço de email que você forneceu é muito longo.","error_email_missing":"Por favor, insira seu endereço de email.","error_website_missing":"Por favor, insira seu website.","error_website_long":"O endereço do website que você forneceu é muito longo.","error_website_invalid":"Por favor, insira um endereço de website válido.","error_user_banned":"Sua mensagem foi bloqueada por nosso sistema de proteção contra spam.","error_message_save_fail":"Sua mensagem não pode ser salva, por favor, tente enviá-la novamente.","error_image_invalid":"O endereço web da imagem é inválido.","error_too_many_messages_minute":"Proteção contra abusos: Por favor, aguarde um momento antes de continuar enviando mensagens.","error_too_many_messages_5min":"Proteção contra abusos: Por favor, aguarde um momento antes de continuar enviando mensagens.","error_too_many_messages_hour":"Proteção contra abusos: Por favor, aguarde um momento antes de continuar enviando mensagens.","date_now":"Agora","date_today_at":"Hoje às","date_yesterday_at":"Ontem às","date_at":"às","date_minute_ago":"há 1 min","date_minutes_ago":"há {n} min","date_hour_ago":"há 1 hora","date_hours_ago":"há {n} horas","no_messages_yet":"Ainda não há mensagens","load_more_messages":"Carregar mais mensagens","now_online":"agora online","one_user_typing":"Alguém está digitando","multiple_users_typing":"%d pessoas estão digitando","settings":"Configurações","notification_sound_volume":"Volume do som de notificação","notifications_mute":"Notificações desativadas","notifications_full":"Notificações ativadas","choose_language":"Escolha o seu idioma","language_flag_representation":"Representação da bandeira do idioma","password_protection":"Este shoutbox é <strong>protegido por senha<\/strong>. Para acessar, insira a senha aqui:","enter_password":"Insira a senha…","save":"Salvar","password_wrong":"<strong>Senha errada.<\/strong><br>Entre em contato com o operador deste shoutbox.","refresh":"Atualizar","desktop_notifications_headline":"Notificações de desktop","desktop_notifications_description":"Recebe notificações sobre novas mensagens mesmo quando não estiveres nesta página.","desktop_notifications_enable":"Ativar notificações","desktop_notifications_enabled":"Notificações ativadas","desktop_notifications_blocked":"Notificações bloqueadas","desktop_notifications_instructions":"Para permitir ou negar notificações, clica no ícone de cadeado na barra de endereço ou verifica as configurações do teu navegador.","desktop_notifications_not_supported":"Notificações de desktop não são suportadas pelo teu navegador.","desktop_notifications_from":"Mensagem de","desktop_notifications_image_placeholder":"[Imagem]","desktop_notifications_note":"Queres saber quando chega uma nova mensagem?"}};
            let userLocale = localStorage.getItem('user_language') || navigator.language || navigator.userLanguage || 'en-US';

            if (!languageData[userLocale]) {
                const langPart = userLocale.split(/[-_]/)[0];
                for (const key in languageData) {
                    if (key.startsWith(langPart)) {
                        userLocale = key;
                        break;
                    }
                }
            }
            let userLanguage = userLocale.substring(0, 2); // 'en'
            document.documentElement.lang = userLanguage;

            const lang = languageData[userLocale];

            const hasPassword = false;
            if(hasPassword) {
                const pathname = window.location.pathname;
                const storedPassword = localStorage.getItem('speechbox_pw_55535');
                if(!pathname.includes('/login')) {
                    if(storedPassword != null) {
                        verifyPassword(storedPassword, true, false);
                    } else {
                        redirectToLogin();
                    }
                }
            }

            let authenticated = false; // false;
            let isAdmin = false; // false;

            document.addEventListener('DOMContentLoaded', function() {
                const langElements = document.querySelectorAll('[data-language-key-text], [data-language-key-placeholder], [data-language-key-title]');
                langElements.forEach(function (langElement) {
                    const textKey = langElement.getAttribute('data-language-key-text');
                    if(textKey && typeof lang === 'object' && lang !== null && lang[textKey]) {
                        langElement.innerHTML = lang[textKey];
                    }
                    const nameKey = langElement.getAttribute('data-language-key-placeholder');
                    if(nameKey && typeof lang === 'object' && lang !== null && lang[nameKey]) {
                        langElement.setAttribute('placeholder', lang[nameKey]);
                    }
                    const titleKey = langElement.getAttribute('data-language-key-title');
                    if(titleKey && typeof lang === 'object' && lang !== null && lang[titleKey]) {
                        langElement.setAttribute('title', lang[titleKey]);
                    }
                });

                const passwordForm = document.getElementById('passwordForm');
                if(passwordForm) {
                    passwordForm.onsubmit = function(e) {
                        e.preventDefault();
                        verifyPassword(document.getElementById('password').value, false, true);
                    }
                }

                window.addEventListener("beforeunload", function() {
                    navigator.sendBeacon('/box/55535/leave');
                });
            });

            function verifyPassword(password, hashed = false, viaForm = false) {
                crypto.subtle.digest('SHA-256', new TextEncoder().encode(password))
                .then(hashBuffer => {
                    const hashArray = Array.from(new Uint8Array(hashBuffer));
                    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                    const sendPassword = hashed ? password : hashHex;
                    fetch('/box/55535/verify', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ "password": sendPassword })
                    })
                    .then(response => {
                        if (!response.ok) {
                            redirectToLogin();
                        }
                        return response.json();
                    })
                    .then(data => {
                        if (data.success) {
                            if(viaForm == true) {
                                localStorage.setItem('speechbox_pw_' + 55535, sendPassword);
                                window.location.href = '/box/' + 55535;
                            }
                        } else {
                            redirectToLogin(true);
                        }
                    })
                    .catch(error => {
                        redirectToLogin();
                    });
                })
                .catch(err => console.error('Error hashing password: ', err));
            }

            function redirectToLogin(passwordWrong = false) {
                localStorage.removeItem('speechbox_pw_' + 55535);
                let uri = '/box/' + 55535 + '/login';
                if(passwordWrong)
                    uri += '?pw=wrong';
                window.location.href = uri;
            }
